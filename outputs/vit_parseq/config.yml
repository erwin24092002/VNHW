Global:
  device: gpu
  epoch_num: 500
  log_smooth_window: 50
  print_batch_step: 100
  output_dir: outputs/vit_parseq/
  eval_epoch_step:
  - 0
  - 1
  eval_batch_step:
  - 0
  - 500
  save_epoch_step:
  - 15
  - 9999
  cal_metric_during_train: false
  checkpoints: null
  use_tensorboard: false
  infer_img: data/data_raw/UIT_HWDB_word/train_data/1
  character_dict_path: data/character_dict/uit_hwdb_word.txt
  max_text_length: 15
  use_space_char: false
  use_amp: true
  save_res_path: outputs/vit_parseq/predicts_vit_parseq.txt
  grad_clip_val: 20
  distributed: false
Optimizer:
  name: AdamW
  lr: 0.001485
  weight_decay: 0.0
  filter_bias_and_bn: false
LRScheduler:
  name: OneCycleLR
  warmup_epoch: 5
  cycle_momentum: false
Architecture:
  model_type: rec
  algorithm: PARSeq
  Transform: null
  Encoder:
    name: ViT
  Decoder:
    name: PARSeqDecoder
    decode_ar: true
    refine_iters: 0
Loss:
  name: PARSeqLoss
PostProcess:
  name: ARLabelDecode
  character_dict_path: data/character_dict/uit_hwdb_word.txt
  use_space_char: false
Metric:
  name: RecMetric
  main_indicator: acc
  is_filter: false
Train:
  dataset:
    name: LMDBDataSet
    data_dir: data/data_lmdb/train
    transforms:
    - DecodeImagePIL:
        img_mode: RGB
    - ARLabelEncode:
        character_dict_path: data/character_dict/uit_hwdb_word.txt
        use_space_char: false
        max_text_length: 15
    - RecTVResize:
        image_shape:
        - 64
        - 192
        padding: false
    - KeepKeys:
        keep_keys:
        - image
        - label
        - length
  loader:
    shuffle: true
    batch_size_per_card: 50
    drop_last: true
    num_workers: 4
Eval:
  dataset:
    name: LMDBDataSet
    data_dir: data/data_lmdb/test
    transforms:
    - DecodeImagePIL:
        img_mode: RGB
    - ARLabelEncode:
        character_dict_path: data/character_dict/uit_hwdb_word.txt
        use_space_char: false
        max_text_length: 15
    - RecTVResize:
        image_shape:
        - 64
        - 192
        padding: false
    - KeepKeys:
        keep_keys:
        - image
        - label
        - length
  loader:
    shuffle: false
    drop_last: false
    batch_size_per_card: 20
    num_workers: 2
filename: vit_parseq
config: ./configs/vit_parseq.yml
local_rank: null
eval: true
